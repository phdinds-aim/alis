
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Shingling of Documents &#8212; ALIS: Algorithmic Library for Scalability  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=4fea3ae4a0a4ba949df0a89bbae557cc2ce861ae" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom-style.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script>window.MathJax = {"TeX": {"equationNumbers": {"autoNumber": "AMS", "useLabelIds": true}}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Minhashing" href="minhashing.html" />
    <link rel="prev" title="Set Similarity" href="set-similarity.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">ALIS: Algorithmic Library for Scalability  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../installation.html">
   Installation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Finding Similar Items
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="set-similarity.html">
     Set Similarity
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Shingling of Documents
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="minhashing.html">
     Minhashing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="introduction-to-lsh.html">
     Locality Sensitive Hashing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="theory-of-lsf.html">
     Theory of LSF
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="lsh-for-minhash.html">
     LSH Banding Technique
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="the-lsh-class.html">
     Many-to-Many Document Similarity Task
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="demo-minhash-lsh.html">
     LSH and Document Similarity
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../stream-mining/index.html">
   Stream Mining
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../stream-mining/stream-data-model.html">
     Stream Data Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../stream-mining/data-stream.html">
     Sampling Data in a Stream
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../stream-mining/filtering-stream.html">
     Filtering Streams
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../stream-mining/counting-distinct.html">
     Counting Distinct Elements in a Stream
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../stream-mining/moments.html">
     Moments
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../stream-mining/counting-ones.html">
     Counting Ones in a Window
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../stream-mining/common-recent.html">
     Most Common Recent Elements
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../link-analysis/index.html">
   Link Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../link-analysis/pagerank.html">
     PageRank
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../link-analysis/pagerank-for-large-data.html">
     PageRank for Large Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../link-analysis/pagerank-mapreduce.html">
     PageRank using MapReduce
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../link-analysis/topic-sensitive-pagerank.html">
     Topic-Sensitive PageRank
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../link-analysis/hubs-and-authorities.html">
     Hubs and Authorities
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../social-network-graphs/index.html">
   Social Network Graphs
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../social-network-graphs/social-network-preliminaries.html">
     What is a Social Network?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../social-network-graphs/network-measures.html">
     Network Measures
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../social-network-graphs/community-detection.html">
     Community Detection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../social-network-graphs/social-network-analysis-using-graphframes.html">
     Social Network Analysis using GraphFrames
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../bibliography.html">
   Bibliography
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  API Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api-docs/feature_extraction/index.html">
   Feature Extraction
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../api-docs/feature_extraction/shingles.html">
     Shingles
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/feature_extraction/shingles/alis.feature_extraction.k_shingles.html">
       alis.feature_extraction.k_shingles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/feature_extraction/shingles/alis.feature_extraction.hashed_shingles.html">
       alis.feature_extraction.hashed_shingles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/feature_extraction/shingles/alis.feature_extraction.word_shingles.html">
       alis.feature_extraction.word_shingles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/feature_extraction/shingles/alis.feature_extraction.hashed_word_shingles.html">
       alis.feature_extraction.hashed_word_shingles
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../api-docs/feature_extraction/minhash.html">
     Minhashing
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../api-docs/feature_extraction/minhash_lsh/alis.feature_extraction.MinhashLSH.html">
       alis.feature_extraction.MinhashLSH
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../api-docs/feature_extraction/minhash_lsh/MinhashLSH/alis.feature_extraction.MinhashLSH.__init__.html">
         alis.feature_extraction.MinhashLSH.__init__
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api-docs/feature_extraction/minhash_lsh/MinhashLSH/alis.feature_extraction.MinhashLSH.transform.html">
         alis.feature_extraction.MinhashLSH.transform
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api-docs/similarity/index.html">
   Similarity
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../api-docs/similarity/minhash_lsh.html">
     Minhash LSH
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../api-docs/similarity/lsh/alis.similarity.minhash_lsh.LSH.html">
       alis.similarity.minhash_lsh.LSH
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../api-docs/similarity/lsh/LSH/alis.similarity.minhash_lsh.LSH.__init__.html">
         alis.similarity.minhash_lsh.LSH.__init__
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api-docs/similarity/lsh/LSH/alis.similarity.minhash_lsh.LSH.get_buckets.html">
         alis.similarity.minhash_lsh.LSH.get_buckets
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api-docs/similarity/lsh/LSH/alis.similarity.minhash_lsh.LSH.make_bands.html">
         alis.similarity.minhash_lsh.LSH.make_bands
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../api-docs/similarity/lsh/LSH/alis.similarity.minhash_lsh.LSH.plot_thresh.html">
         alis.similarity.minhash_lsh.LSH.plot_thresh
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../api-docs/similarity/jaccard.html">
     Jaccard Similarity
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/similarity/jaccard/alis.similarity._jaccard.jaccard_sim.html">
       alis.similarity._jaccard.jaccard_sim
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api-docs/stream_mining/index.html">
   Stream Mining
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../api-docs/stream_mining/link_analysis/alis.stream_mining.alonMatiasSzegedy.html">
     alis.stream_mining.alonMatiasSzegedy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api-docs/stream_mining/link_analysis/alis.stream_mining.flajoletMartin.html">
     alis.stream_mining.flajoletMartin
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api-docs/link_analysis/index.html">
   Link Analysis
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../api-docs/link_analysis/link_analysis/alis.link_analysis.idealized_page_rank.html">
     alis.link_analysis.idealized_page_rank
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api-docs/link_analysis/link_analysis/alis.link_analysis.transition_matrix.html">
     alis.link_analysis.transition_matrix
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api-docs/link_analysis/link_analysis/alis.link_analysis.taxed_page_rank.html">
     alis.link_analysis.taxed_page_rank
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api-docs/link_analysis/link_analysis/alis.link_analysis.topic_sensitive_page_rank.html">
     alis.link_analysis.topic_sensitive_page_rank
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api-docs/link_analysis/link_analysis/alis.link_analysis.spam_mass.html">
     alis.link_analysis.spam_mass
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api-docs/link_analysis/link_analysis/alis.link_analysis.hits.html">
     alis.link_analysis.hits
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api-docs/network_tools/index.html">
   Network Tools
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../api-docs/network_tools/clustering.html">
     Clustering
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
    <label for="toctree-checkbox-16">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/network_tools/clustering/alis.network_tools.clustering.LA.html">
       alis.network_tools.clustering.LA
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/network_tools/clustering/alis.network_tools.clustering.IS2.html">
       alis.network_tools.clustering.IS2
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../api-docs/network_tools/metrics.html">
     Metrics
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
    <label for="toctree-checkbox-17">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/network_tools/metrics/alis.network_tools.metrics.average_degree.html">
       alis.network_tools.metrics.average_degree
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/network_tools/metrics/alis.network_tools.metrics.betweenness_centrality.html">
       alis.network_tools.metrics.betweenness_centrality
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/network_tools/metrics/alis.network_tools.metrics.closeness_centrality.html">
       alis.network_tools.metrics.closeness_centrality
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/network_tools/metrics/alis.network_tools.metrics.degree_centrality.html">
       alis.network_tools.metrics.degree_centrality
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/network_tools/metrics/alis.network_tools.metrics.eigenvector_centrality.html">
       alis.network_tools.metrics.eigenvector_centrality
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../api-docs/network_tools/plots.html">
     Plots
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
    <label for="toctree-checkbox-18">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/network_tools/metrics/alis.network_tools.plots.draw_communities.html">
       alis.network_tools.plots.draw_communities
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/network_tools/metrics/alis.network_tools.plots.graph_to_edge_matrix.html">
       alis.network_tools.plots.graph_to_edge_matrix
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../api-docs/network_tools/metrics/alis.network_tools.plots.plot_degree_distribution.html">
       alis.network_tools.plots.plot_degree_distribution
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/finding-similar-items/shingling.ipynb.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#k-shingles">
   <span class="math notranslate nohighlight">
    \(k\)
   </span>
   -shingles
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-1">
     Example 1
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#solution">
       Solution
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choosing-the-shingle-size">
     Choosing the Shingle Size
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extracting-the-k-shingles">
     Extracting the
     <span class="math notranslate nohighlight">
      \(k\)
     </span>
     -shingles
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#shingles-build-from-words">
   Shingles Build from Words
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   Exercises
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-1">
     Exercise 1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-2">
     Exercise 2
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Shingling of Documents</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#k-shingles">
   <span class="math notranslate nohighlight">
    \(k\)
   </span>
   -shingles
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-1">
     Example 1
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#solution">
       Solution
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choosing-the-shingle-size">
     Choosing the Shingle Size
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extracting-the-k-shingles">
     Extracting the
     <span class="math notranslate nohighlight">
      \(k\)
     </span>
     -shingles
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#shingles-build-from-words">
   Shingles Build from Words
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   Exercises
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-1">
     Exercise 1
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-2">
     Exercise 2
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="shingling-of-documents">
<h1>Shingling of Documents<a class="headerlink" href="#shingling-of-documents" title="Permalink to this headline">#</a></h1>
<p>In natural language processing, shingling is a set of unique <em>shingles</em> or n-grams composing of contiguous subsequences of tokens within a document, which can be used to determine the similarity between documents <span id="id1">[<a class="reference internal" href="../bibliography.html#id2" title="Hinrich Schütze, Christopher D Manning, and Prabhakar Raghavan. Introduction to information retrieval. Volume 39. Cambridge University Press Cambridge, 2008.">SchutzeMR08</a>]</span>. In this case, the documents that shares pieces of short sentences or phrases will contain many common elements in their representation if the sentences appear in different order in the two documents.</p>
<section id="k-shingles">
<h2><span class="math notranslate nohighlight">\(k\)</span>-shingles<a class="headerlink" href="#k-shingles" title="Permalink to this headline">#</a></h2>
<p>The simplest way to do shingling is by enumerating all the <span class="math notranslate nohighlight">\(k\)</span>-shingles of a particular document. This refers to any substring with length <span class="math notranslate nohighlight">\(k\)</span> found in the document (See <a class="reference internal" href="#id2"><span class="std std-numref">Fig. 3</span></a>).</p>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="../_images/shingles.png"><img alt="../_images/shingles.png" src="../_images/shingles.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">5-shingles found from the sentence “A quick brown fox jumps over the lazy dog”.</span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Here, notice that the shingles found include the empty space represented as a single character. We have the freedom to perform any preprocessing that we deem important prior to extraction of the shingles. Commonly, we may compress newline characters or tabs as a single space for simplicity.</p>
<section id="example-1">
<h3>Example 1<a class="headerlink" href="#example-1" title="Permalink to this headline">#</a></h3>
<p>Suppose that in a document <span class="math notranslate nohighlight">\(D\)</span> contains a substring <code class="docutils literal notranslate"><span class="pre">ilovedove</span></code>. Pick the <span class="math notranslate nohighlight">\(2\)</span>-shingles of <span class="math notranslate nohighlight">\(D\)</span> by performing the <span class="math notranslate nohighlight">\(k\)</span>-shingling extraction algorithm.</p>
<section id="solution">
<h4>Solution<a class="headerlink" href="#solution" title="Permalink to this headline">#</a></h4>
<div class="toggle docutils container">
<p>Picking the <span class="math notranslate nohighlight">\(2\)</span>-shingles of <span class="math notranslate nohighlight">\(D\)</span>, we will get:</p>
<p><code class="docutils literal notranslate"><span class="pre">{il,</span> <span class="pre">lo,</span> <span class="pre">ov,</span> <span class="pre">ve,</span> <span class="pre">ed,</span> <span class="pre">do}</span></code></p>
<p>Notice that although substrings <code class="docutils literal notranslate"><span class="pre">ov</span></code> and <code class="docutils literal notranslate"><span class="pre">ve</span></code> appears twice, it only appears once as a shingle. Another variant of doing shingling is to construct a <em>bag of shingles</em> where each shingle would appear in the result as many times as it appears in the document.</p>
</div>
</section>
</section>
<section id="choosing-the-shingle-size">
<h3>Choosing the Shingle Size<a class="headerlink" href="#choosing-the-shingle-size" title="Permalink to this headline">#</a></h3>
<p>Choosing the <span class="math notranslate nohighlight">\(k\)</span> depends on the typical length of documents and how large the set of typical character is. Usually for corpus of documents containing emails, <span class="math notranslate nohighlight">\(k = 5\)</span> is a good choice. For larger documents, e.g. research articles, the choice of <span class="math notranslate nohighlight">\(k = 9\)</span> is workable.</p>
<p>To imagine the effect of the chosen <span class="math notranslate nohighlight">\(k\)</span> in shignling is to imagine how many possibilities the choice <span class="math notranslate nohighlight">\(k\)</span> creates. For example, in the English alphabet, there are only 26 <span class="math notranslate nohighlight">\(\sim\)</span> 20 characters, thus for a given <span class="math notranslate nohighlight">\(k\)</span>-shingles, there would be an estimate number of <span class="math notranslate nohighlight">\(20^k\)</span> shingles. For our email example, this would correspond to <span class="math notranslate nohighlight">\(20^5 = 3,200,000\)</span> possible shingles. Most emails are typically shorter than 3.2 million characters, as such, <span class="math notranslate nohighlight">\(k = 5\)</span> is a workable value for such assplications.</p>
</section>
<section id="extracting-the-k-shingles">
<h3>Extracting the <span class="math notranslate nohighlight">\(k\)</span>-shingles<a class="headerlink" href="#extracting-the-k-shingles" title="Permalink to this headline">#</a></h3>
<p>We can use the function <a class="reference internal" href="../api-docs/feature_extraction/shingles/alis.feature_extraction.k_shingles.html#alis.feature_extraction.k_shingles" title="alis.feature_extraction.k_shingles"><code class="xref py py-func docutils literal notranslate"><span class="pre">k_shingles()</span></code></a> from the <a class="reference internal" href="../api-docs/feature_extraction/index.html#module-alis.feature_extraction" title="alis.feature_extraction"><code class="xref py py-mod docutils literal notranslate"><span class="pre">alis.feature_extraction</span></code></a> library to extract k-shingles from any given text.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">alis.feature_extraction</span> <span class="kn">import</span> <span class="n">k_shingles</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">input_text</span> <span class="o">=</span> <span class="s1">&#39;The quick brown fox jumps over the lazy dog&#39;</span>
<span class="n">shingles</span> <span class="o">=</span> <span class="n">k_shingles</span><span class="p">(</span><span class="n">input_text</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c1"># Extract 5-shingles of the input text</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">shingles</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39; brow&#39;, &#39; fox &#39;, &#39; jump&#39;, &#39; lazy&#39;, &#39; over&#39;, &#39; quic&#39;, &#39; the &#39;, &#39;The q&#39;, &#39;azy d&#39;, &#39;brown&#39;, &#39;ck br&#39;, &#39;e laz&#39;, &#39;e qui&#39;, &#39;er th&#39;, &#39;fox j&#39;, &#39;he la&#39;, &#39;he qu&#39;, &#39;ick b&#39;, &#39;jumps&#39;, &#39;k bro&#39;, &#39;lazy &#39;, &#39;mps o&#39;, &#39;n fox&#39;, &#39;over &#39;, &#39;own f&#39;, &#39;ox ju&#39;, &#39;ps ov&#39;, &#39;quick&#39;, &#39;r the&#39;, &#39;rown &#39;, &#39;s ove&#39;, &#39;the l&#39;, &#39;uick &#39;, &#39;umps &#39;, &#39;ver t&#39;, &#39;wn fo&#39;, &#39;x jum&#39;, &#39;y dog&#39;, &#39;zy do&#39;]
</pre></div>
</div>
</div>
</div>
<p>Notice that from the above example and the exercise that we discussed a while ago, the number of shingles would be insurmountable even for a moderate size of collection of documents. As such, instead of using substrings directly as shingles, we may pick a hash function that maps the shingles to some number of buckets that treat the resulting bucket number as a shingle.</p>
<p>We can do this via the <a class="reference internal" href="../api-docs/feature_extraction/shingles/alis.feature_extraction.hashed_shingles.html#alis.feature_extraction.hashed_shingles" title="alis.feature_extraction.hashed_shingles"><code class="xref py py-func docutils literal notranslate"><span class="pre">hashed_shingles()</span></code></a> feature extractor from the <a class="reference internal" href="../api-docs/feature_extraction/index.html#module-alis.feature_extraction" title="alis.feature_extraction"><code class="xref py py-mod docutils literal notranslate"><span class="pre">alis.feature_extraction</span></code></a> library.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">alis.feature_extraction</span> <span class="kn">import</span> <span class="n">hashed_shingles</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">hashed_shingles</span><span class="p">(</span><span class="n">input_text</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 643, 259, 262, 8, 651, 780, 531, 659, 19, 147, 158, 802, 932, 808, 427, 817, 51, 565, 311, 317, 450, 708, 838, 588, 849, 466, 83, 86, 857, 350, 226, 483, 360, 1002, 1004, 497, 245, 254}
</pre></div>
</div>
</div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">k</span></code> denotes the <span class="math notranslate nohighlight">\(k\)</span>-shingle, and <code class="docutils literal notranslate"><span class="pre">n</span></code> represents the resulting bucket size <span class="math notranslate nohighlight">\(2^n - 1\)</span>. The larger our choice for <span class="math notranslate nohighlight">\(n\)</span>, the larger the storage requirement, but lesser collisions will be experienced.</p>
</section>
</section>
<section id="shingles-build-from-words">
<h2>Shingles Build from Words<a class="headerlink" href="#shingles-build-from-words" title="Permalink to this headline">#</a></h2>
<p>Another way to define shingles is to exploit some property in the document that allows us to focus an interesting property of the document. For instance, we can define a shingle to be a stop word followed by the next two words, regardless of whether they were stop words or not. This not only reduces the storage space required for us to store a given particular document, but allows us to focus on the important parts of the document.</p>
<p>This allows us for example to distinguish important parts of news articles as compared to let’s say those that appear as an advertisement in a web page. This biases the set of shingles extracted in favor of the article and differentiates it with the surrounding material, which make our Jaccard similarity operation perform better and focus on the article itself rather than some advertisement or surrounding material.</p>
<p>We can extract the word shingles from a given string of text using the <a class="reference internal" href="../api-docs/feature_extraction/shingles/alis.feature_extraction.word_shingles.html#alis.feature_extraction.word_shingles" title="alis.feature_extraction.word_shingles"><code class="xref py py-func docutils literal notranslate"><span class="pre">word_shingles()</span></code></a> and <a class="reference internal" href="../api-docs/feature_extraction/shingles/alis.feature_extraction.hashed_word_shingles.html#alis.feature_extraction.hashed_word_shingles" title="alis.feature_extraction.hashed_word_shingles"><code class="xref py py-func docutils literal notranslate"><span class="pre">hashed_word_shingles()</span></code></a> from the <a class="reference internal" href="../api-docs/feature_extraction/index.html#module-alis.feature_extraction" title="alis.feature_extraction"><code class="xref py py-mod docutils literal notranslate"><span class="pre">alis.feature_extraction</span></code></a> library. Here, we may optionally input a collection of <code class="docutils literal notranslate"><span class="pre">stop_words</span></code>. We then define a shingle to be a stop word followed by the next <code class="docutils literal notranslate"><span class="pre">k-1</span></code> words regardless of whether the next words were stop words or not.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">alis.feature_extraction</span> <span class="kn">import</span> <span class="n">word_shingles</span><span class="p">,</span> <span class="n">hashed_word_shingles</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">word_shingles</span></code> extracts the next <code class="docutils literal notranslate"><span class="pre">k-1</span></code> words given that the first word encountered is a stop word.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">word_shingles</span><span class="p">(</span><span class="n">input_text</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="mi">3</span><span class="p">,</span> <span class="n">stop_words</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;over the lazy&#39;, &#39;the quick brown&#39;, &#39;the lazy dog&#39;}
</pre></div>
</div>
</div>
</div>
<p>We may use <code class="docutils literal notranslate"><span class="pre">hashed_word_shingles</span></code> to extract the shingles in hashed representation form.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">hashed_word_shingles</span><span class="p">(</span><span class="n">input_text</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">stop_words</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1785721545, 2800494314, 331608684}
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">#</a></h2>
<p>For the exercises, let’s consider an excerpt from Pablo Neruda’s poem <a href="https://www.poemhunter.com/poem/i-do-not-love-you-except-because-i-love-you/" target="_blank"><i>I Do Not Love You Except Because I Love You</i></a></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>I do not love you except because I love you;
I go from loving to not loving you,
From waiting to not waiting for you
My heart moves from cold to fire.
</pre></div>
</div>
<section id="exercise-1">
<h3>Exercise 1<a class="headerlink" href="#exercise-1" title="Permalink to this headline">#</a></h3>
<p>Treat each newline character as a single space, then extract the <span class="math notranslate nohighlight">\(5\)</span>-shingle of this excerpt. Compute for both the non-hashed and hashed shingle representation of the excerpt.</p>
</section>
<section id="exercise-2">
<h3>Exercise 2<a class="headerlink" href="#exercise-2" title="Permalink to this headline">#</a></h3>
<p>Perform a preprocessing step of case normalization and removal of special characters then scan each line in the poem separately. Extract the <span class="math notranslate nohighlight">\(3\)</span>-word shingle of this excerpt. Solve for both the non-hashed and hashed word shingle representation of the excerpt.</p>
</section>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="set-similarity.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Set Similarity</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="minhashing.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Minhashing</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By AIM PhD in DS 2024<br/>
  
      &copy; Copyright 2022, AIM PhD in DS 2024.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>